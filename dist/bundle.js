(()=>{const e=document.getElementById("tree");!function d(a,t){const n=a.services.filter((e=>e.head===t));n.sort(((e,d)=>e.sorthead-d.sorthead)),n.forEach((t=>{if(1===t.node){const n=document.createElement("ul");n.classList.add("node-show"),n.setAttribute("data-id",t.id),n.innerText=`>${t.name}`,e.appendChild(n),d(a,t.id)}else{const d=document.createElement("li");d.classList.add("hide"),d.innerText=`- ${t.name}(${t.price})`,null===t.head?e.appendChild(d):e.querySelector(`ul[data-id="${t.head}"]`).appendChild(d)}}))}({services:[{id:1,head:null,name:"Проф.осмотр",node:0,price:100,sorthead:20},{id:2,head:null,name:"Хирургия",node:1,price:0,sorthead:10},{id:3,head:2,name:"Удаление зубов",node:1,price:0,sorthead:10},{id:4,head:3,name:"Удаление зуба",node:0,price:800,sorthead:10},{id:5,head:3,name:"Удаление 8ого зуба",node:0,price:1e3,sorthead:30},{id:6,head:3,name:"Удаление осколка зуба",node:0,price:2e3,sorthead:20},{id:7,head:2,name:"Хирургические вмешательство",node:0,price:200,sorthead:10},{id:8,head:2,name:"Имплантация зубов",node:1,price:0,sorthead:20},{id:9,head:8,name:"Коронка",node:0,price:3e3,sorthead:10},{id:10,head:8,name:"Слепок челюсти",node:0,price:500,sorthead:20}]},null),e.onclick=e=>{if("UL"!==e.target.tagName)return;const d=e.target,a=d.querySelectorAll("li");for(let e of a)e.hidden=!e.hidden;d.querySelectorAll("li:not([hidden])").length>0?a.forEach((e=>{e.classList.add("show"),e.classList.remove("hide")})):a.forEach((e=>{e.classList.add("hide"),e.classList.remove("show")}))}})();